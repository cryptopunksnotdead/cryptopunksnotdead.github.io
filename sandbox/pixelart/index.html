<head>

  <script>
     //////////////
     // pixelart ascii format
     //   support comments starting with #
     //         and allow empty lines
     //    support leading trailing spaces (get auto-trimmed)
     //    auto-trim leading and trailing whitespaces & emptylines in design
     //

     function parseAscii( str ) {
       let ary = [];
       str.trim().split( "\n" ).forEach( line => {
            line = line.trim();
            if( line.startsWith( "#" ) || line.length == 0 ) {
              // do nothing; skip
            } else {
              values = line.split( /[ \t]+/ );
              ary.push( values );
            }
          } );
       return ary;
    }


    class Pixelart {
        constructor( pixels, colors, offset ) {
          this.pixels = pixels;
          this.colors = colors;
          this.offset = offset;

          this.width  = pixels[0].length; // note: assume all rows the same for now
          this.height = pixels.length;

          console.log( `  width x height: ${this.width} x ${this.height}, offset: ${this.offset}` );
        }

        static parse( str, colors, offset=[0,0] ) {
           var pixels = parseAscii( str );
           return new Pixelart( pixels, colors, offset );
        }

        draw( canvas, zoom=1 ) {
          if( typeof canvas === 'string' ) // convenience helper / hack; lets you pass in id of canvas element
          {
            canvas = document.querySelector( canvas );
          }

          // note only resize if offset is [0,0]
          if( this.offset[0] == 0 && this.offset[1] == 0 ) {
            canvas.width  = this.width*zoom;
            canvas.height = this.height*zoom;
            console.log( ` canvas width x height: ${this.width*zoom} x ${this.height*zoom}` );
          }

          var ctx = canvas.getContext( '2d' );
          this.pixels.forEach( (row, y) => {
                    row.forEach( (pixel, x) => {

             if( pixel != '.' ) {  // auto-skip transparent for now - why? why not?
               ctx.fillStyle = this.colors[pixel];
               ctx.fillRect( x*zoom+this.offset[0]*zoom,
                             y*zoom+this.offset[1]*zoom, zoom, zoom );
             }
            });
          });
        }
    }

    ///////////////////////////
    // some punk pixel art

    const alien_design = `
###
# alien (male) - basic - zero attributes
#
#  colors:
#   0 - transparent
#   1 - black
#
#  size: 24x24

. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . @ @ @ @ @ @ @ . . . . . . . . .
. . . . . . . @ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . @ @ ^ ^ x @ ^ ^ ^ x @ @ . . . . . . .
. . . . @ ^ o ^ ^ @ o ^ ^ ^ @ o @ . . . . . . .
. . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . @ @ ^ ^ ^ ^ ^ o ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ o ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ o ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ @ @ @ @ @ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . . .
. . . . . . @ ^ ^ ^ @ @ @ @ @ . . . . . . . . .
. . . . . . @ ^ ^ ^ @ . . . . . . . . . . . . .
. . . . . . @ ^ ^ ^ @ . . . . . . . . . . . . .
`;

  const alien = Pixelart.parse( alien_design,  {
                                  '@':  '#000000',       // color 1 - black
                                  'x':  '#75bdbd',       // color 2 - base 3  (darkest)
                                  'o':  '#9be0e0',       // color 3 - base 2  (darker)
                                  '^':  '#c8fbfb',       // color 4 - base 1
                               } );


  const demon_design = `
  ###
# demon (male) - basic - zero attributes
#
#  colors:
#   0 - transparent
#   1 - black
#
#  size: 24x24

. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . @ @ . . . . . @ @ . . . . . . . .
. . . . . . . @ ^ @ . . . @ ^ @ . . . . . . . .
. . . . . . . @ ^ @ @ @ @ @ ^ @ . . . . . . . .
. . . . . . . @ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ x x ^ ^ ^ x x @ . . . . . . .
. . . . . @ ^ ^ ^ @ o ^ ^ ^ @ o @ . . . . . . .
. . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . @ @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ @ @ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ @ @ @ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . .
. . . . . . @ ^ ^ ^ ^ ^ ^ ^ ^ @ . . . . . . . .
. . . . . . @ ^ ^ ^ @ @ @ @ @ . . . . . . . . .
. . . . . . @ ^ ^ ^ @ . . . . . . . . . . . . .
. . . . . . @ ^ ^ ^ @ . . . . . . . . . . . . .
`;

 const demon = Pixelart.parse( demon_design, {
                                '@':  '#000000',       // color 1 - black
                                'x':  '#390102',       // color 2 - base 3  (darkest)
                                'o':  '#630006',       // color 3 - base 2  (darker)
                                '^':  '#850008',       // color 4 - base 1
                               });


////////////////////////////////////
// some add-ons / attributes

const cap = Pixelart.parse( `
  . . @ @ @ @ @ @ @ . . . . .
  . @ @ @ @ @ @ x @ @ . . . .
  @ @ @ @ @ @ @ @ x @ . . . .
  @ @ @ @ @ @ @ @ @ @ @ @ @ .
  @ @ @ @ @ @ @ @ @ @ @ @ @ @
`, {    // colors
  '@': '#8119b7',
  'x': '#b261dc'
}, [6,4]  // offset [x,y]
  );


const headband = Pixelart.parse( `
    x x x x x x x x x
    @ @ @ @ @ @ @ @ @
  `, {    // colors
      '@': '#1A6ED5',
      'x': '#FFFFFF'
     }
   , [7,7]   // offset [x,y]
  );


const lasereyes_design = `
  . . . . @ . . . . . @ . . . .
  . . . . @ . . . . . @ . . . .
  . . . @ x @ . . . @ x @ . . .
  @ x x x o x @ . @ x o x x x @
  . . . @ x @ . . . @ x @ . . .
  . . . . @ . . . . . @ . . . .
  . . . . @ . . . . . @ . . . .
  `;

const lasereyes = Pixelart.parse( lasereyes_design, {    // colors (red-ish)
      '@': '#FB1A06',
      'x': '#F85C0F',
      'o': '#FFDB3C',
     }
   , [5,8]   // offset [x,y]
  );

const lasereyes_light = Pixelart.parse( lasereyes_design, {    // colors (yellow-ish)
      '@': '#E6D300',
      'x': '#FFF799',
      'o': '#FFFFFF',
     }
   , [5,8]   // offset [x,y]
  );
  </script>
</head>
<body>


  <h1>Show Punk in the Pixel Art ("ASCII") Text Format in Web Page</h1>

  <p>
    Yes, you can. Use "View page source" to see  how the "magic" works.
      Or browse the
      <a href="https://github.com/cryptopunksnotdead/cryptopunksnotdead.github.io/blob/master/sandbox/pixelart/index.html">source on github Â»</a>
  </p>

  <canvas id='punk1'></canvas>
  4x <canvas id='punk1x4'></canvas>
  8x <canvas id='punk1x8'></canvas>
  20x <canvas id='punk1x20'></canvas>

  <script>
    // note: add headband to zero-attribute alien "archetype"
    alien.draw( '#punk1' );
    cap.draw( '#punk1' );

    alien.draw( '#punk1x4', 4 );
    cap.draw( '#punk1x4', 4 );

    alien.draw( '#punk1x8', 8 );
    cap.draw( '#punk1x8', 8 );

    alien.draw( '#punk1x20', 20 );
    cap.draw( '#punk1x20', 20 );
  </script>


<p>
  Let's try another one..
</p>

<canvas id='punk2'></canvas>
4x <canvas id='punk2x4'></canvas>
8x <canvas id='punk2x8'></canvas>
20x <canvas id='punk2x20'></canvas>

<script>
   // note: add headband to zero-attribute demon "archetype"
   demon.draw( '#punk2' );
   headband.draw( '#punk2' );

   demon.draw( '#punk2x4', 4 );
   headband.draw( '#punk2x4', 4 );

   demon.draw( '#punk2x8', 8 );
   headband.draw( '#punk2x8', 8 );

   demon.draw( '#punk2x20', 20 );
   headband.draw( '#punk2x20', 20 );
</script>


<p>
  Let's try with laser eyes..
</p>

<canvas id='punk3'></canvas>
<canvas id='punk4'></canvas>
4x <canvas id='punk3x4'></canvas>
   <canvas id='punk4x4'></canvas>
8x <canvas id='punk3x8'></canvas>
   <canvas id='punk4x8'></canvas>
20x <canvas id='punk3x20'></canvas>
    <canvas id='punk4x20'></canvas>

<script>
  // note: add laser eyes
    demon.draw( '#punk3' );
    headband.draw( '#punk3' );
    lasereyes.draw( '#punk3' );

    demon.draw( '#punk3x4', 4 );
    headband.draw( '#punk3x4', 4 );
    lasereyes.draw( '#punk3x4', 4 );

    demon.draw( '#punk3x8', 8 );
    headband.draw( '#punk3x8', 8 );
    lasereyes.draw( '#punk3x8', 8 );

    demon.draw( '#punk3x20', 20 );
    headband.draw( '#punk3x20', 20 );
    lasereyes.draw( '#punk3x20', 20 );



    alien.draw( '#punk4' );
    cap.draw( '#punk4' );
    lasereyes_light.draw( '#punk4' );

    alien.draw( '#punk4x4', 4 );
    cap.draw( '#punk4x4', 4 );
    lasereyes_light.draw( '#punk4x4', 4 );

    alien.draw( '#punk4x8', 8 );
    cap.draw( '#punk4x8', 8 );
    lasereyes_light.draw( '#punk4x8', 8 );

    alien.draw( '#punk4x20', 20 );
    cap.draw( '#punk4x20', 20 );
    lasereyes_light.draw( '#punk4x20', 20 );
</script>

</body>

